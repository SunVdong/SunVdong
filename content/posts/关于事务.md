+++
title = "关于事务"
date = 2021-11-15T09:57:21+08:00
draft = true
author = 'vdong'
categories = ['技术'] 
tags = ['事务','架构']

+++

事务处理几乎每一个信息系统都会涉及，目的是 为了保证系统中所有的数据符合期望。

4个特性：  **原子性** (**A**tomic)， **隔离性** (**I**solation)，**持久性** (**D**urability)， == > **一致性** (**C**onsistency)。

起源自数据库，但不局限数据库。今天应用范围包含但不限于 数据库、事务内存、缓存、消息队列、分布式存储等。 

- 单一服务单一数据源， 通过 A 、I、D 来保证 C 是容易且经典的做法。数据源可以感知 多个事务所读写的数据 是否发生冲突，事务的最执行顺序，也由数据源决定。这种事务间的一致性被称为 **内部一致性**。
- 一个服务使用多个数据源 or 多个服务多个数据源，A、I、D 很难解决这些问题，这种涉及多个数据源的事务一致性称为 **外部一致性**。

**外部一致性**是分布式系统中必然会遇到且必须要解决的问题。确保代价可承受的范围内，尽可能的提高一致性。

